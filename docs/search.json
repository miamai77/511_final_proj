[
  {
    "objectID": "data/Readme.html",
    "href": "data/Readme.html",
    "title": "Data Folder",
    "section": "",
    "text": "Data Folder\nPlace any data needed by your analysis in this folder. Please do not store large files here. Then read in any data using the ‘data’ path. For example, read_csv(\"data/data.csv\")."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "",
    "text": "The Far Right’s broad resurgence is probably one of the most noteworthy trends in the 21st century’s global political landscape, and additionally politicians representing this shift to the right have gained prominence in not only the US, but in states such as Brazil, India, Russia, Turkey, Hungary, Italy, and Japan. It remains increasingly clear that this trend may be semi-permanent, with over a decade of increasing support for such movements among individuals of all walks of life. “Right wing authoritarianism” is a term not only describing a political identity but a set of beliefs and morals potentially bridging the gap between political science and psychology. A “right wing authoritarianism” scale was developed by psychologist Bob Altemeyer in 1981, describing a set of tendencies that might make one more predispositioned to supporting a right-wing authoritarian leader. These tendencies include high levels of submission to established authorities, willingness to engage in retaliatory actions to protect such authorities, and high degrees of conventionalism and traditionalism, whatever that may be in one’s culture. I will attempt to map such values in the United States, and the county-by-county spatial variance between them. I will take state-by-state or metro-by-metro survey data corresponding with right-wing authoritarian tendencies as defined by Altemeyer, and use a regression model to predict what socioeconomic traits could suggest right-wing authoritarianism in geographic regions.\nPerhaps class is a primary predictor of RWA, or urban-rural location, or perhaps Evangelical Christianity. Modeling RWA by county will allow me to see the factors that correlate the most."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html#loading-necessary-packages",
    "href": "index.html#loading-necessary-packages",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Loading necessary packages",
    "text": "Loading necessary packages"
  },
  {
    "objectID": "index.html#setting-up-parallel-cores-for-processing-large-datasets",
    "href": "index.html#setting-up-parallel-cores-for-processing-large-datasets",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Setting up Parallel Cores for Processing Large Datasets",
    "text": "Setting up Parallel Cores for Processing Large Datasets\n\nnum_cores &lt;- parallel::detectCores() - 1\nregisterDoParallel(num_cores)"
  },
  {
    "objectID": "index.html#loading-census-data",
    "href": "index.html#loading-census-data",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Loading Census Data",
    "text": "Loading Census Data\nI gathered various demographic information from the US Census Bureau API\nI began by downloading information on race, education, income, poverty, age, and urban/rural status for all counties in the United States. I used the 2021 American Community survey for all topics except urban/rural status, for which only 2020 Decennial was available. Connecticut recently changed its counties into “planning regions” so there is discontinuity from 2022 onward that will hinder joining to religion data later on. So 2021 has the most recent available data that preserves Connecticut’s old county boundaries.\nThe Census Bureau API only allows us to download a limited subset of the 2020 Decennial Census online. This does not include urban popuation, for which ACS information is also not available.\nSo, for information on urban population, I had to download it manually from NHGIS and import it.\nThe following tables were downloaded:\n\nB01001: Age by Sex (2017-2021 ACS)\nB01002: Median Age by Sex (2019-2023 ACS)\nB03002: Hispanic or Latino Origin by Race (2019-2023 ACS)\nB15003: Educational Attainment for the Population 25 and Older (2019-2023 ACS)\nB19001: Median Household Income in the Past 12 Months (2019-2023 ACS)\nP2: Urban and Rural (2020 Decennial Census)\n\nThe goal is to convert raw values into percentages, and to convert granular data into larger categories I had to convert them all into proportions of the total population. Final column values are to represent: - Total median age - Percentage of total population that is White, Black, Asian, Native American, Pacific Islander, Other Race, Multiracial, and Hispanic - Percentage of those 25 and older who have: received no schooling, been educated up to middle school, high school but no diploma, high school diploma, associate’s degree, bachelor’s degree, post-bachelor’s degree - Percentage of households with incomes: Below 15K, 15-30K, 30-60K, 60-100K, 100-150K, 150-200K, and Over 200K - Percentage of the population in urbanized areas\n\n#Getting a census API key to download census data\ncensus_api_key(\"65f14507899d7d2b5d92122f92d392799690cb6f\", install=TRUE, overwrite=TRUE)\nreadRenviron(\"~/.Renviron\")\n\n\n#Gathering race data. These are the variables I need to download\nacs_racefactors &lt;- c(total_pop=\"B03002_001\", \n                 total_white = \"B03002_003\", total_black = \"B03002_004\",\n                 total_indig = \"B03002_005\", total_asian = \"B03002_006\",\n                 total_pi = \"B03002_007\", total_mixed = \"B03002_009\",\n                 total_hispanic = \"B03002_012\")\n\n#I convert totals for racial groups in each county into percentages of the population.\nacs_race &lt;- get_acs(geography=\"county\", variables=acs_racefactors, year=2021, output=\"wide\") %&gt;%\n  mutate(white = total_whiteE/total_popE, black=total_blackE/total_popE,\n         indigenous = total_indigE/total_popE, asian = total_asianE/total_popE,\n         pacific = total_piE/total_popE, mixed = total_mixedE/total_popE, \n         hispanic = total_hispanicE/total_popE, total_pop=total_popE) %&gt;%\n  dplyr::select(GEOID, NAME, white, black, indigenous, asian, pacific, mixed, hispanic)\n\n#The census bureau has information on education level to the year. This is too granular to make an effective model. We need to condense it into broader categories.\neduc_factors &lt;- c(total_25 = \"B15003_001\",\n                 no_school = \"B15003_002\", pre_k = \"B15003_003\", \n                 kindergarten = \"B15003_004\", g1 = \"B15003_005\", \n                 g2 = \"B15003_006\", g3 = \"B15003_007\", g4 = \"B15003_008\",\n                 g5 = \"B15003_009\", g6 = \"B15003_010\", g7 = \"B15003_011\",\n                 g8 = \"B15003_012\", g9 = \"B15003_013\", g10 = \"B15003_014\",\n                 g11 = \"B15003_015\", g12 = \"B15003_016\", \n                 hs_diplom = \"B15003_017\", ged = \"B15003_018\", \n                 u_1y = \"B15003_019\", u_nd = \"B15003_020\", \n                 assoc = \"B15003_021\", bachelor = \"B15003_022\", \n                 master = \"B15003_023\", prof_sc = \"B15003_024\",\n                 phd = \"B15003_025\")\n\n#Mutating to convert into the percentage of the 25-and-over population in seven education cohorts\nacs_edu &lt;- get_acs(geography=\"county\", variables=educ_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(no_school = no_schoolE/total_25E, under_hs = (pre_kE + kindergartenE + g1E + g2E + g3E + g4E + g5E + g6E + g7E + g8E)/total_25E, hs_nodiploma = (g9E + g10E + g11E + g12E)/total_25E, hs = (hs_diplomE + gedE)/total_25E, somecollege = (u_1yE + u_ndE + assocE)/total_25E, bachelor = bachelorE/total_25E, postbachelor = (masterE + prof_scE + phdE)/total_25E) %&gt;%\n  dplyr::select(GEOID, NAME, no_school, under_hs, hs_nodiploma, hs, somecollege, bachelor, postbachelor)\n\n#Doing the same with income. The census bureau gives 5- to 25- thousand dollar income brackets, we want to convert into broader income categories.\nincome_factors &lt;- c(households = \"B19001_001\", \n                 u10k = \"B19001_002\", u15k = \"B19001_003\", u20k = \"B19001_004\",\n                 u25k = \"B19001_005\", u30k = \"B19001_006\", u35k = \"B19001_007\",\n                 u40k = \"B19001_008\", u45k = \"B19001_009\", u50k = \"B19001_010\",\n                 u60k = \"B19001_011\", u75k = \"B19001_012\", u100k = \"B19001_013\",\n                 u125k = \"B19001_014\", u150k = \"B19001_015\", \n                 u200k = \"B19001_016\", o200k = \"B19001_017\")\n\nacs_income &lt;- get_acs(geography=\"county\", variables=income_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(u15k = (u10kE + u15kE)/householdsE, u30k = (u20kE + u25kE + u30kE)/householdsE, u60k = (u35kE + u40kE + u45kE + u50kE + u60kE)/householdsE, u100k = (u75kE + u100kE)/householdsE, u150k = (u125kE + u150kE)/householdsE, u200k = (u200kE/householdsE), o200k = o200kE/householdsE) %&gt;%\n  dplyr::select(GEOID, NAME, u15k, u30k, u60k, u100k, u150k, u200k, o200k)\n\n#The census bureau has age cohort data, divided by sex. Categories are very granular. I think age may be an important variable, but sex, not so much, as the sexes are pretty evenly distributed across US counties. So this is a lot of variables.\nage_sex_factors &lt;- c(\"B01001_003\", \"B01001_004\", \"B01001_005\", \"B01001_006\",\n                    \"B01001_007\", \"B01001_008\", \"B01001_009\", \"B01001_010\",\n                    \"B01001_011\", \"B01001_012\", \"B01001_013\", \"B01001_014\",\n                    \"B01001_015\", \"B01001_016\", \"B01001_017\", \"B01001_018\",\n                    \"B01001_019\", \"B01001_020\", \"B01001_021\", \"B01001_022\",\n                    \"B01001_023\", \"B01001_024\", \"B01001_025\", \"B01001_027\",\n                    \"B01001_028\", \"B01001_029\", \"B01001_030\", \"B01001_031\",\n                    \"B01001_032\", \"B01001_033\", \"B01001_034\", \"B01001_035\",\n                    \"B01001_036\", \"B01001_037\", \"B01001_038\", \"B01001_039\",\n                    \"B01001_040\", \"B01001_041\", \"B01001_042\", \"B01001_043\",\n                    \"B01001_044\", \"B01001_045\", \"B01001_046\", \"B01001_047\",\n                    \"B01001_048\", \"B01001_049\", \"B01002_001\", \"B03002_001\")\n\n#Aggregating into 5 age cohorts, which represent percentage of the population\nacs_age &lt;- get_acs(geography=\"county\", variables=age_sex_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(age_u18 = (B01001_003E + B01001_004E + B01001_005E + B01001_006E + \n           B01001_027E + B01001_028E + B01001_029E + B01001_030E)/B03002_001E,\n         age18_34 = (B01001_007E + B01001_008E + B01001_009E + B01001_010E +\n           B01001_011E + B01001_012E + B01001_031E + B01001_032E + B01001_033E +\n           B01001_034E + B01001_035E + B01001_036E)/B03002_001E,\n         age_35_49 = (B01001_013E + B01001_014E + B01001_015E + B01001_037E +\n           B01001_038E + B01001_039E)/B03002_001E,\n         age_50_64 = (B01001_016E + B01001_017E + B01001_018E + B01001_019E +\n           B01001_040E + B01001_041E + B01001_042E + B01001_043E)/B03002_001E,\n         age_o65 = (B01001_020E + B01001_021E + B01001_022E + B01001_023E +\n           B01001_024E + B01001_025E + B01001_044E + B01001_045E + B01001_046E +\n           B01001_047E + B01001_048E)/B03002_001E,\n         median_age = B01002_001E, total_pop = B03002_001E\n         ) %&gt;%\n  dplyr::select(GEOID, NAME, age_u18, age18_34, age_35_49, age_50_64, age_o65, median_age, total_pop)\n\n#Loading in the urban area information separately\nurban &lt;- read_csv(\"data/nhgis_urban_rural.csv\") %&gt;%\n  mutate(urban = U7I002/U7I001) %&gt;%\n  dplyr::select(urban, GEOCODE, CBSAA)\n\n#Getting geometries for counties\ncounty_geoms &lt;- counties(cb = TRUE, year=2021)\n\n#Joining all the dataframes into one \ntotal_demographic &lt;- left_join(acs_race, acs_edu, by=join_by(\"GEOID\"==\"GEOID\")) %&gt;%\n  left_join(., acs_income, by=join_by(\"GEOID\"==\"GEOID\")) %&gt;%\n  left_join(., acs_age, by=join_by(\"GEOID\"==\"GEOID\")) %&gt;%\n  left_join(., urban, by=join_by(\"GEOID\"==\"GEOCODE\"))\ntotal_demographic &lt;- left_join(county_geoms, total_demographic, by=join_by('GEOID'=='GEOID'))\ntotal_demographic &lt;- total_demographic %&gt;%\n  mutate(FIPS = as.numeric(GEOID))"
  },
  {
    "objectID": "index.html#loading-religion-data",
    "href": "index.html#loading-religion-data",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Loading Religion Data",
    "text": "Loading Religion Data\nI also gathered religion information from the US Religion Census, because I hypothesized that religion could be an additional factor that would explain Right Wing Authoritarianism well.\nThe US Religion Census is an organization that tracks religious affiliation across the country. They perform an exhaustive census of every religious organization in the United States to get detailed affiliation data.\nThere is an API available through OSF in order to download this data, but as of writing the first draft, it appears to be broken. I cannot seem to be able to create an OSF account currently. I do plan on using the API in my final project, but as of now we will just have to make do.\nSince the religion census lists affiliation with every single religious organization in the country, the file is very large. I cannot load it directly into the data folder, so I created an abridged version in excel with only the sects I intended on analyzing. These include:\n\nTotal Adherence Rate of All Religious Organizations (TOT)\nEvangelical Protestant (EVAN)\nBlack Protestant (BPRT)\nMainline Protestant (MPRT)\nCatholic (CATH)\nOrthodox Christian (ORTH)\nMormonism/Latter Day Saints (LDS)\nJudaism (CJUD - Conservative, IJUD - Independent, OJUD - Orthodox, RJUD - Reconstructionist, RFRM - Reform)\nIslam (MSLM)\nHinduism (HINT)\nBuddhism (MAHBUD - Mahayana, THBUD - Theravada, VAJBUD - Vajarayana)\n\nThe Religion Census finds total adherence rates for Christian denominations (e.g. Evangelical Protestant is not a single organization but rather many with similar characteristics)\nFor smaller religions (Mormonism, Judaism, Islam, Hinduism, Buddhism), I had to manually search through the hundreds of congregations to find these specific groups. There are separate columns for Jewish and Buddhist denominations, but I am combining them, as they are quite small religions.\n\n#Loading the religion data, removing NA values, and creating new columns for Judaism and Buddhism\nreligion2020 &lt;- read.csv(\"data/religion2020.csv\")\nreligion2020[is.na(religion2020)] &lt;- 0\nreligion2020 &lt;- religion2020 |&gt;\n  mutate(TOTJUDRATE_2020 = CJUDRATE_2020 + \n           IJUDRATE_2020 + OJUDRATE_2020 + \n           RJUDRATE_2020 + RFRMRATE_2020, \n         TOTBUDRATE_2020 = MAHBUDRATE_2020 + \n           THBUDRATE_2020 + VAJBUDRATE_2020)\n\nI also process the religion data by taking NA adherence rate values and converting them to 0. In these cases, it means that there is a negligent amount of congregations of a given sect in a given county, and thus there are not a significant number of adherents.\n\n#Joining US Census Bureau and Religion Census Data\ntotal_demographic &lt;- left_join(total_demographic, religion2020, by=join_by(FIPS==FIPS))\n\nIt appears that there are many outliers in religious adherence values, with some being suspiciously high, even higher than county populations. This may pose problems for modeling Right Wing Authoritarianism. I will confine values to be within a certain number of z-scores from the mean of all counties.\n\n#Puerto Rico and Guam's county-equivalents are all NA due to the Religion Census not having data for them. So we must remove NA entries. \n\ntotal_demographic &lt;- na.omit(total_demographic)\n\n#Above three standard deviations is generally considered an outlier. Three standard deviations below the mean for most of these denominations would just result in a negative number. For widespread religions, I will use three. For religions that are found in a limited geographic range, I will use 5\ntotal_demographic &lt;- total_demographic %&gt;%\n  mutate(EVANRATE_2020 = case_when(\n    EVANRATE_2020 &gt; (mean(EVANRATE_2020) + sd(EVANRATE_2020)*3) ~ (mean(EVANRATE_2020) + sd(EVANRATE_2020)*3), EVANRATE_2020 &lt; (mean(EVANRATE_2020) + sd(EVANRATE_2020)*3) ~ EVANRATE_2020\n  ), BPRTRATE_2020 = case_when(\n    BPRTRATE_2020 &gt; (mean(BPRTRATE_2020) + sd(BPRTRATE_2020)*5) ~ (mean(BPRTRATE_2020) + sd(BPRTRATE_2020)*5), BPRTRATE_2020 &lt; (mean(BPRTRATE_2020) + sd(BPRTRATE_2020)*5) ~ BPRTRATE_2020\n  ), MPRTRATE_2020 = case_when(\n    MPRTRATE_2020 &gt; (mean(MPRTRATE_2020) + sd(MPRTRATE_2020)*3) ~ (mean(MPRTRATE_2020) + sd(MPRTRATE_2020)*3), MPRTRATE_2020 &lt; (mean(MPRTRATE_2020) + sd(MPRTRATE_2020)*3) ~ MPRTRATE_2020\n  ), CATHRATE_2020 = case_when(\n    CATHRATE_2020 &gt; (mean(CATHRATE_2020) + sd(CATHRATE_2020)*3) ~ (mean(CATHRATE_2020) + sd(CATHRATE_2020)*3), CATHRATE_2020 &lt; (mean(CATHRATE_2020) + sd(CATHRATE_2020)*3) ~ CATHRATE_2020),\n    TOTRATE_2020 = case_when(\n    TOTRATE_2020 &gt; (mean(TOTRATE_2020) + sd(TOTRATE_2020)*3) ~ (mean(TOTRATE_2020) + sd(TOTRATE_2020)*3), TOTRATE_2020 &lt; (mean(TOTRATE_2020) + sd(TOTRATE_2020)*3) ~ TOTRATE_2020)\n  )\n\nThen, considering the three major aspects of Right Wing Authoritarianism from Altemeyer, I examined survey data from the PRRI’s American Values Survey and the Pew Research Center. If survey questions closely matched Altemeyer’s definitions, I used them.\nIt was important that survey data was differentiated on the state level or on some other demographic level (e.g. dividing by income level, race, religion).\nBecause such data was differentiated on this level, it is important to load state and metro level census and religion information to train the model."
  },
  {
    "objectID": "index.html#loading-state--and-metro--level-socioeconomic-data-for-model-training",
    "href": "index.html#loading-state--and-metro--level-socioeconomic-data-for-model-training",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Loading State- and Metro- Level Socioeconomic Data for Model Training",
    "text": "Loading State- and Metro- Level Socioeconomic Data for Model Training\n\n#Using the same functions used on the county level to extract the same census data for states\nacs_race_state &lt;- get_acs(geography=\"state\", variables=acs_racefactors, year=2021, output=\"wide\") %&gt;%\n  mutate(white = total_whiteE/total_popE, black=total_blackE/total_popE,\n         indigenous = total_indigE/total_popE, asian = total_asianE/total_popE,\n         pacific = total_piE/total_popE, mixed = total_mixedE/total_popE, \n         hispanic = total_hispanicE/total_popE, total_pop=total_popE) %&gt;%\n  dplyr::select(GEOID, NAME, white, black, indigenous, asian, pacific, mixed, hispanic)\n\nacs_edu_state &lt;- get_acs(geography=\"state\", variables=educ_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(no_school = no_schoolE/total_25E, under_hs = (pre_kE + kindergartenE + g1E + g2E + g3E + g4E + g5E + g6E + g7E + g8E)/total_25E, hs_nodiploma = (g9E + g10E + g11E + g12E)/total_25E, hs = (hs_diplomE + gedE)/total_25E, somecollege = (u_1yE + u_ndE + assocE)/total_25E, bachelor = bachelorE/total_25E, postbachelor = (masterE + prof_scE + phdE)/total_25E) %&gt;%\n  dplyr::select(GEOID, NAME, no_school, under_hs, hs_nodiploma, hs, somecollege, bachelor, postbachelor)\n\nacs_income_state &lt;- get_acs(geography=\"state\", variables=income_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(u15k = (u10kE + u15kE)/householdsE, u30k = (u20kE + u25kE + u30kE)/householdsE, u60k = (u35kE + u40kE + u45kE + u50kE + u60kE)/householdsE, u100k = (u75kE + u100kE)/householdsE, u150k = (u125kE + u150kE)/householdsE, u200k = (u200kE/householdsE), o200k = o200kE/householdsE) %&gt;%\n  dplyr::select(GEOID, NAME, u15k, u30k, u60k, u100k, u150k, u200k, o200k)\n\nacs_age_state &lt;- get_acs(geography=\"state\", variables=age_sex_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(age_u18 = (B01001_003E + B01001_004E + B01001_005E + B01001_006E + \n           B01001_027E + B01001_028E + B01001_029E + B01001_030E)/B03002_001E,\n         age18_34 = (B01001_007E + B01001_008E + B01001_009E + B01001_010E +\n           B01001_011E + B01001_012E + B01001_031E + B01001_032E + B01001_033E +\n           B01001_034E + B01001_035E + B01001_036E)/B03002_001E,\n         age_35_49 = (B01001_013E + B01001_014E + B01001_015E + B01001_037E +\n           B01001_038E + B01001_039E)/B03002_001E,\n         age_50_64 = (B01001_016E + B01001_017E + B01001_018E + B01001_019E +\n           B01001_040E + B01001_041E + B01001_042E + B01001_043E)/B03002_001E,\n         age_o65 = (B01001_020E + B01001_021E + B01001_022E + B01001_023E +\n           B01001_024E + B01001_025E + B01001_044E + B01001_045E + B01001_046E +\n           B01001_047E + B01001_048E)/B03002_001E,\n         median_age = B01002_001E, total_pop = B03002_001E\n         ) %&gt;%\n  dplyr::select(GEOID, NAME, age_u18, age18_34, age_35_49, age_50_64, age_o65, median_age, total_pop)\n\n#Loading a state dataset of urban and rural from NHGIS\nurban_state &lt;- read_csv(\"data/urban_rural_state.csv\") %&gt;%\n  mutate(urban = U7I002/U7I001) %&gt;%\n  dplyr::select(urban, GEOCODE)\n\nstate_geoms &lt;- states(cb = TRUE, year=2021)\n\n#Joining census data\nstate_demographic &lt;- left_join(acs_race_state, acs_edu_state, by=join_by(\"GEOID\"==\"GEOID\", \"NAME\"==\"NAME\")) %&gt;%\n  left_join(., acs_income_state, by=join_by(\"GEOID\"==\"GEOID\", \"NAME\"==\"NAME\")) %&gt;%\n  left_join(., acs_age_state, by=join_by(\"GEOID\"==\"GEOID\", \"NAME\"==\"NAME\")) %&gt;%\n  left_join(., urban_state, by=join_by(\"GEOID\"==\"GEOCODE\"))\nstate_demographic &lt;- state_demographic %&gt;%\n  mutate(FIPS = as.numeric(GEOID))\n\n#Taking the county-level religion data and using group_by to aggregate it to the state level, weighting by population\nstate_religion &lt;- total_demographic %&gt;%\n  group_by(STATE_NAME) %&gt;%\n  summarize(pop = sum(total_pop),\n            EVANRATE_2020 = sum(EVANRATE_2020*total_pop)/sum(total_pop),\n            TOTRATE_2020 = sum(TOTRATE_2020*total_pop)/sum(total_pop),\n            BPRTRATE_2020 = sum(BPRTRATE_2020*total_pop)/sum(total_pop),\n            MPRTRATE_2020 = sum(MPRTRATE_2020*total_pop)/sum(total_pop),\n            CATHRATE_2020 = sum(CATHRATE_2020*total_pop)/sum(total_pop),\n            ORTHRATE_2020 = sum(ORTHRATE_2020*total_pop)/sum(total_pop),\n            LDSRATE_2020 = sum(LDSRATE_2020*total_pop)/sum(total_pop),\n            MSLMRATE_2020 = sum(MSLMRATE_2020*total_pop)/sum(total_pop),\n            HINTRATE_2020 = sum(HINTRATE_2020*total_pop)/sum(total_pop),\n            TOTJUDRATE_2020 = sum(TOTJUDRATE_2020*total_pop)/sum(total_pop),\n            TOTBUDRATE_2020 = sum(TOTBUDRATE_2020*total_pop)/sum(total_pop)) %&gt;%\n  dplyr::select(STATE_NAME, pop, EVANRATE_2020,TOTRATE_2020, BPRTRATE_2020, MPRTRATE_2020, CATHRATE_2020, ORTHRATE_2020, LDSRATE_2020, MSLMRATE_2020, HINTRATE_2020, TOTJUDRATE_2020, TOTBUDRATE_2020)\n\n#Transforming the religion and census datasets to have the same CRS\nstate_religion &lt;- st_transform(state_religion, 4269)\n\nstate_demographic &lt;- left_join(state_demographic, state_religion, by=join_by(NAME==STATE_NAME))\n\n\nacs_race_metro &lt;- get_acs(geography=\"metropolitan statistical area/micropolitan statistical area\", variables=acs_racefactors, year=2021, output=\"wide\") %&gt;%\n  mutate(white = total_whiteE/total_popE, black=total_blackE/total_popE,\n         indigenous = total_indigE/total_popE, asian = total_asianE/total_popE,\n         pacific = total_piE/total_popE, mixed = total_mixedE/total_popE, \n         hispanic = total_hispanicE/total_popE, total_pop=total_popE) %&gt;%\n  dplyr::select(GEOID, NAME, white, black, indigenous, asian, pacific, mixed, hispanic) \n\nacs_edu_metro &lt;- get_acs(geography=\"metropolitan statistical area/micropolitan statistical area\", variables=educ_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(no_school = no_schoolE/total_25E, under_hs = (pre_kE + kindergartenE + g1E + g2E + g3E + g4E + g5E + g6E + g7E + g8E)/total_25E, hs_nodiploma = (g9E + g10E + g11E + g12E)/total_25E, hs = (hs_diplomE + gedE)/total_25E, somecollege = (u_1yE + u_ndE + assocE)/total_25E, bachelor = bachelorE/total_25E, postbachelor = (masterE + prof_scE + phdE)/total_25E) %&gt;%\n  dplyr::select(GEOID, NAME, no_school, under_hs, hs_nodiploma, hs, somecollege, bachelor, postbachelor)\n\nacs_income_metro &lt;- get_acs(geography=\"metropolitan statistical area/micropolitan statistical area\", variables=income_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(u15k = (u10kE + u15kE)/householdsE, u30k = (u20kE + u25kE + u30kE)/householdsE, u60k = (u35kE + u40kE + u45kE + u50kE + u60kE)/householdsE, u100k = (u75kE + u100kE)/householdsE, u150k = (u125kE + u150kE)/householdsE, u200k = (u200kE/householdsE), o200k = o200kE/householdsE) %&gt;%\n  dplyr::select(GEOID, NAME, u15k, u30k, u60k, u100k, u150k, u200k, o200k)\n\nacs_age_metro &lt;- get_acs(geography=\"metropolitan statistical area/micropolitan statistical area\", variables=age_sex_factors, year=2021, output=\"wide\") %&gt;%\n  mutate(age_u18 = (B01001_003E + B01001_004E + B01001_005E + B01001_006E + \n           B01001_027E + B01001_028E + B01001_029E + B01001_030E)/B03002_001E,\n         age18_34 = (B01001_007E + B01001_008E + B01001_009E + B01001_010E +\n           B01001_011E + B01001_012E + B01001_031E + B01001_032E + B01001_033E +\n           B01001_034E + B01001_035E + B01001_036E)/B03002_001E,\n         age_35_49 = (B01001_013E + B01001_014E + B01001_015E + B01001_037E +\n           B01001_038E + B01001_039E)/B03002_001E,\n         age_50_64 = (B01001_016E + B01001_017E + B01001_018E + B01001_019E +\n           B01001_040E + B01001_041E + B01001_042E + B01001_043E)/B03002_001E,\n         age_o65 = (B01001_020E + B01001_021E + B01001_022E + B01001_023E +\n           B01001_024E + B01001_025E + B01001_044E + B01001_045E + B01001_046E +\n           B01001_047E + B01001_048E)/B03002_001E,\n         median_age = B01002_001E, total_pop = B03002_001E\n         ) %&gt;%\n  dplyr::select(GEOID, NAME, age_u18, age18_34, age_35_49, age_50_64, age_o65, median_age, total_pop)\n\nurban_metro &lt;- read_csv(\"data/metro_urban.csv\") %&gt;%\n  mutate(urban = U7I002/U7I001) %&gt;%\n  dplyr::select(urban, GEOCODE)\n\ncbsa &lt;- core_based_statistical_areas(cb=TRUE, year=2021)\n\nmetro_demographic &lt;- left_join(acs_race_metro, acs_edu_metro, by=join_by(\"GEOID\"==\"GEOID\", \"NAME\"==\"NAME\")) %&gt;%\n  left_join(., acs_income_metro, by=join_by(\"GEOID\"==\"GEOID\", \"NAME\"==\"NAME\")) %&gt;%\n  left_join(., acs_age_metro, by=join_by(\"GEOID\"==\"GEOID\", \"NAME\"==\"NAME\"))\nmetro_demographic$GEOID &lt;- as.numeric(metro_demographic$GEOID)\nmetro_demographic &lt;- left_join(metro_demographic, urban_metro, by=join_by(\"GEOID\"==\"GEOCODE\"))\n\nmetro_religion &lt;- total_demographic %&gt;%\n  group_by(CBSAA) %&gt;%\n  summarize(pop = sum(total_pop),\n            EVANRATE_2020 = sum(EVANRATE_2020*total_pop)/sum(total_pop),\n            TOTRATE_2020 = sum(TOTRATE_2020*total_pop)/sum(total_pop),\n            BPRTRATE_2020 = sum(BPRTRATE_2020*total_pop)/sum(total_pop),\n            MPRTRATE_2020 = sum(MPRTRATE_2020*total_pop)/sum(total_pop),\n            CATHRATE_2020 = sum(CATHRATE_2020*total_pop)/sum(total_pop),\n            ORTHRATE_2020 = sum(ORTHRATE_2020*total_pop)/sum(total_pop),\n            LDSRATE_2020 = sum(LDSRATE_2020*total_pop)/sum(total_pop),\n            MSLMRATE_2020 = sum(MSLMRATE_2020*total_pop)/sum(total_pop),\n            HINTRATE_2020 = sum(HINTRATE_2020*total_pop)/sum(total_pop),\n            TOTJUDRATE_2020 = sum(TOTJUDRATE_2020*total_pop)/sum(total_pop),\n            TOTBUDRATE_2020 = sum(TOTBUDRATE_2020*total_pop)/sum(total_pop)) %&gt;%\n  dplyr::select(CBSAA, pop, EVANRATE_2020,TOTRATE_2020, BPRTRATE_2020, MPRTRATE_2020, CATHRATE_2020, ORTHRATE_2020, LDSRATE_2020, MSLMRATE_2020, HINTRATE_2020, TOTJUDRATE_2020, TOTBUDRATE_2020)\n\nmetro_religion &lt;- st_transform(metro_religion, 4269)\n\nmetro_demographic &lt;- left_join(metro_demographic, metro_religion, by=join_by(GEOID==CBSAA))"
  },
  {
    "objectID": "index.html#loading-pew-and-prri-polling-data",
    "href": "index.html#loading-pew-and-prri-polling-data",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Loading Pew and PRRI Polling Data",
    "text": "Loading Pew and PRRI Polling Data\nFrom the Pew Research Center and the Public Religion Research Institute, there were four survey questions chosen as proxies to estimate right wing authoritarianism. As an abstract\n\nstate_demographic$GEOID &lt;- as.numeric(state_demographic$GEOID)\n\nprri_femin &lt;- read_csv(\"data/prri_femin.csv\")\nprri_violence &lt;- read_csv(\"data/prri_violence.csv\")\nprri_immigration &lt;- read_csv(\"data/prri_immigration.csv\")\npew_morality &lt;- read_csv(\"data/pew_morality.csv\")"
  },
  {
    "objectID": "index.html#model-training",
    "href": "index.html#model-training",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Model Training",
    "text": "Model Training\n\nset.seed(92322)\ngrid &lt;- expand.grid(mtry = c(1:10))\nfitControl &lt;- trainControl(method=\"repeatedcv\", number=10, repeats=25, savePredictions=TRUE, verboseIter=FALSE)\n\nprri_femin &lt;- prri_femin %&gt;%\n  mutate(FEMIN_MARGIN = FEMIN_AGREE - FEMIN_DISAGREE)\nsurvey_s &lt;- prri_femin %&gt;%\n  filter(METRO==0)\nsurvey_m &lt;- prri_femin %&gt;%\n  filter(METRO==1)\nmodel_input &lt;- bind_rows(left_join(state_demographic, survey_s, by=join_by(\"NAME\" == \"State\")), left_join(metro_demographic, survey_m, by=join_by(GEOID == IFMETRO_ID))) %&gt;%\n  dplyr::select(-State, -IFMETRO_ID, -FIPS) %&gt;%\n  na.omit()\n\nmodel_femin &lt;- train(FEMIN_MARGIN ~ white + black + indigenous + asian + pacific + mixed + hispanic + no_school + under_hs + hs_nodiploma + hs + somecollege + bachelor + postbachelor + u15k + u30k + u60k + u100k + u150k + u200k + o200k + median_age + urban + EVANRATE_2020 + TOTRATE_2020 + BPRTRATE_2020 + MPRTRATE_2020 + CATHRATE_2020 + ORTHRATE_2020 + LDSRATE_2020 + TOTJUDRATE_2020 + MSLMRATE_2020 + HINTRATE_2020 + TOTBUDRATE_2020, trControl=fitControl, method=\"rf\", data=model_input, tuneGrid=grid)\n\nprri_violence &lt;- prri_violence %&gt;%\n  mutate(VIOLENCE_MARGIN = AGREE_VIOLENCE - DISAGREE_VIOLENCE)\nsurvey_s &lt;- prri_violence %&gt;%\n  filter(METRO==0)\nsurvey_m &lt;- prri_violence %&gt;%\n  filter(METRO==1)\nmodel_input &lt;- bind_rows(left_join(state_demographic, survey_s, by=join_by(\"NAME\" == \"State\")), left_join(metro_demographic, survey_m, by=join_by(GEOID == IFMETRO_ID))) %&gt;%\n  dplyr::select(-State, -IFMETRO_ID, -FIPS) %&gt;%\n  na.omit()\n\nmodel_violence &lt;- train(VIOLENCE_MARGIN ~ white + black + indigenous + asian + pacific + mixed + hispanic + no_school + under_hs + hs_nodiploma + hs + somecollege + bachelor + postbachelor + u15k + u30k + u60k + u100k + u150k + u200k + o200k + median_age + urban + EVANRATE_2020 + TOTRATE_2020 + BPRTRATE_2020 + MPRTRATE_2020 + CATHRATE_2020 + ORTHRATE_2020 + LDSRATE_2020 + TOTJUDRATE_2020 + MSLMRATE_2020 + HINTRATE_2020 + TOTBUDRATE_2020, trControl=fitControl, method=\"rf\", data=model_input, tuneGrid=grid)\n\nprri_immigration &lt;- prri_immigration %&gt;%\n  mutate(IMMIGR_MARGIN = AGREE_IMMIGR - DISAGREE_IMMIGR)\nsurvey_s &lt;- prri_immigration %&gt;%\n  filter(METRO==0)\nsurvey_m &lt;- prri_immigration %&gt;%\n  filter(METRO==1)\nmodel_input &lt;- bind_rows(left_join(state_demographic, survey_s, by=join_by(\"NAME\" == \"STATE\")), left_join(metro_demographic, survey_m, by=join_by(GEOID == IFMETRO_ID))) %&gt;%\n  dplyr::select(-STATE, -IFMETRO_ID, -FIPS) %&gt;%\n  na.omit()\n\nmodel_immigration &lt;- train(IMMIGR_MARGIN ~ white + black + indigenous + asian + pacific + mixed + hispanic + no_school + under_hs + hs_nodiploma + hs + somecollege + bachelor + postbachelor + u15k + u30k + u60k + u100k + u150k + u200k + o200k + median_age + urban + EVANRATE_2020 + TOTRATE_2020 + BPRTRATE_2020 + MPRTRATE_2020 + CATHRATE_2020 + ORTHRATE_2020 + LDSRATE_2020 + TOTJUDRATE_2020 + MSLMRATE_2020 + HINTRATE_2020 + TOTBUDRATE_2020, trControl=fitControl, method=\"rf\", data=model_input, tuneGrid=grid)\n\npew_morality &lt;- pew_morality %&gt;%\n  mutate(MORAL_MARGIN = AGREE_MORAL - DISAGREE_MORAL)\nsurvey_s &lt;- pew_morality %&gt;%\n  filter(METRO==0)\nsurvey_m &lt;- pew_morality %&gt;%\n  filter(METRO==1)\nmodel_input &lt;- bind_rows(left_join(state_demographic, survey_s, by=join_by(\"NAME\" == \"STATE\")), left_join(metro_demographic, survey_m, by=join_by(GEOID == IFMETRO_ID))) %&gt;%\n  dplyr::select(-STATE, -IFMETRO_ID, -FIPS) %&gt;%\n  na.omit()\n\nmodel_morality &lt;- train(MORAL_MARGIN ~ white + black + indigenous + asian + pacific + mixed + hispanic + no_school + under_hs + hs_nodiploma + hs + somecollege + bachelor + postbachelor + u15k + u30k + u60k + u100k + u150k + u200k + o200k + median_age + urban + EVANRATE_2020 + TOTRATE_2020 + BPRTRATE_2020 + MPRTRATE_2020 + CATHRATE_2020 + ORTHRATE_2020 + LDSRATE_2020 + TOTJUDRATE_2020 + MSLMRATE_2020 + HINTRATE_2020 + TOTBUDRATE_2020, trControl=fitControl, method=\"rf\", data=model_input, tuneGrid=grid)"
  },
  {
    "objectID": "index.html#r-squared-values",
    "href": "index.html#r-squared-values",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "R-Squared Values",
    "text": "R-Squared Values\n\nkable(data.frame(Model=c(\"model_femin\", \"model_violence\", \"model_immigration\", \"model_morality\"), R_squared=c(model_femin$results$Rsquared[sum(model_femin$bestTune)], model_violence$results$Rsquared[sum(model_violence$bestTune)], model_immigration$results$Rsquared[sum(model_immigration$bestTune)], model_morality$results$Rsquared[sum(model_morality$bestTune)])))\n\n\n\n\nModel\nR_squared\n\n\n\n\nmodel_femin\n0.4685033\n\n\nmodel_violence\n0.5241481\n\n\nmodel_immigration\n0.5156293\n\n\nmodel_morality\n0.5772463\n\n\n\nR-squared values for each model"
  },
  {
    "objectID": "index.html#variable-importance",
    "href": "index.html#variable-importance",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Variable Importance",
    "text": "Variable Importance\n\nplot(varImp(model_femin))\n\n\n\n\nVariable importance for ‘Society has become too feminine’\n\n\n\n\n\nplot(varImp(model_violence))\n\n\n\n\nVariable importance for ‘true American patriots may have to resort to violence’\n\n\n\n\n\nplot(varImp(model_immigration))\n\n\n\n\nVariable importance for ‘Immigration is poisoning the nation’s blood’\n\n\n\n\n\nplot(varImp(model_morality))\n\n\n\n\nVariable importance for ‘There is an absolute right and wrong’"
  },
  {
    "objectID": "index.html#predicting-county-level-rwa",
    "href": "index.html#predicting-county-level-rwa",
    "title": "Estimating Right-Wing Authoritarianism Values for United States Counties",
    "section": "Predicting County-Level RWA",
    "text": "Predicting County-Level RWA\n\nfemin_predict &lt;- predict(model_femin, total_demographic)\nvio_predict &lt;- predict(model_violence, total_demographic)\nimmig_predict &lt;- predict(model_immigration, total_demographic)\nmor_predict &lt;- predict(model_morality, total_demographic)\ntotal_demographic &lt;- cbind(total_demographic, femin_predict)\ntotal_demographic &lt;- cbind(total_demographic, vio_predict)\ntotal_demographic &lt;- cbind(total_demographic, immig_predict)\ntotal_demographic &lt;- cbind(total_demographic, mor_predict)\n\n\ncolor_fem &lt;- colorNumeric(palette=\"viridis\", domain=total_demographic$femin_predict)\nleaflet() %&gt;%\n  addTiles() %&gt;%\n  setView(lng=-99, lat=39.5, zoom = 3) %&gt;%\n  addPolygons(data=total_demographic, color=~color_fem(total_demographic$femin_predict), stroke=FALSE, fillOpacity=0.9, popup=~paste(\"County:\", NAME, \"\\n Margin:\", round(femin_predict, 2))) %&gt;%\n  addLegend(data=total_demographic, position=\"bottomright\", pal = color_fem, values = ~femin_predict, title=\"Belief that Society has Become too Feminine\")\n\nWarning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).\nNeed '+proj=longlat +datum=WGS84'\n\n\n\n\nPredicted Margin, Society has Become too Feminine, Agree - Disagree\n\n\n\ncolor_vio &lt;- colorNumeric(palette=\"viridis\", domain=total_demographic$vio_predict)\nleaflet() %&gt;%\n  addTiles() %&gt;%\n  setView(lng=-99, lat=39.5, zoom = 3) %&gt;%\n  addPolygons(data=total_demographic, color=~color_vio(total_demographic$vio_predict), stroke=FALSE, fillOpacity=0.9, popup=~paste(\"County:\", NAME, \"\\n Margin:\", round(vio_predict, 2))) %&gt;%\n  addLegend(data=total_demographic, position=\"bottomright\", pal = color_vio, values = ~vio_predict, title=\"Belief that Violence is Sometimes Justified\")\n\nWarning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).\nNeed '+proj=longlat +datum=WGS84'\n\n\n\n\nPredicted Margin, Political Violence Can be Justified, Agree - Disagree"
  }
]